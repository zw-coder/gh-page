(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3f4d1a6a"],{"76b9":function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"secure"},[s("van-nav-bar",{attrs:{title:"安全中心","left-text":"返回","left-arrow":""},on:{"click-left":t.onClickLeft}}),s("div",{staticClass:"container"},[s("div",{staticClass:"bg"}),s("div",{staticClass:"content"},[s("van-cell",{staticClass:"item",attrs:{title:"修改密码","is-link":""},on:{click:function(e){t.show=!t.show}}}),s("van-cell",{staticClass:"item",attrs:{title:"注销账号","is-link":""},on:{click:t.deleteAccount}})],1),s("van-button",{staticClass:"logout-btn",attrs:{round:"",block:"",color:"#0c34ba",type:"primary","native-type":"submit"},on:{click:t.Logout}},[t._v("退出登陆")]),s("van-popup",{style:{height:"32%",paddingTop:"20px"},attrs:{round:"",position:"bottom"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[s("div",{staticStyle:{height:"40px","text-align":"left","font-size":"18px","margin-left":"10px"}},[t._v("修改密码")]),s("van-form",[s("van-field",{attrs:{type:t.isOldpassword?"password":"text",name:"密码",label:"旧密码",placeholder:"旧密码","right-icon":t.isOldpassword?"closed-eye":"eye-o"},on:{"click-right-icon":t.onOldprassword},model:{value:t.oldPassword,callback:function(e){t.oldPassword=e},expression:"oldPassword"}}),s("van-field",{attrs:{type:t.isNewpassword?"password":"text",name:"密码",label:"新密码",placeholder:"新密码","right-icon":t.isNewpassword?"closed-eye":"eye-o"},on:{"click-right-icon":t.onNewprassword},model:{value:t.newPassword,callback:function(e){t.newPassword=e},expression:"newPassword"}}),s("div",{staticStyle:{margin:"16px"}},[s("van-button",{attrs:{round:"",block:"",color:"#0c34ba",type:"primary","native-type":"submit"},on:{click:t.changePassword}},[t._v("确认修改")])],1)],1)],1)],1)],1)},n=[],a=(s("96cf"),s("1da1")),i=s("8982"),r=s("31e9"),c={data:function(){return{show:!1,oldPassword:"",newPassword:"",isOldpassword:!0,isNewpassword:!0}},methods:{onClickLeft:function(){this.$router.push({name:"My"})},changePassword:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!=t.oldPassword&&""!=t.newPassword){e.next=2;break}return e.abrupt("return");case 2:if(s=sessionStorage.getItem("token"),s){e.next=6;break}return t.$notify("您还未登陆!"),e.abrupt("return");case 6:return e.next=8,Object(i["C"])({appkey:r["a"],tokenString:s,password:t.newPassword,oldPassword:t.oldPassword});case 8:o=e.sent,"E001"!=o.code?t.$toast.fail({message:o.msg,duration:500}):(t.$toast.success({message:o.msg+",请重新登陆",duration:1e3}),t.show=!1,t.$routre.push({name:"Login"}));case 10:case"end":return e.stop()}}),e)})))()},onNewprassword:function(){this.isNewpassword=!this.isNewpassword},onOldprassword:function(){this.isOldpassword=!this.isOldpassword},Logout:function(){var t=this,e=sessionStorage.getItem("token");e?this.$dialog.confirm({title:"",message:"确认退出登陆吗?"}).then((function(){Object(i["q"])({appkey:r["a"],tokenString:e}).then((function(e){"F001"==e.code&&(sessionStorage.removeItem("token"),t.$toast.success({message:e.msg,duration:1e3}),t.$router.push({name:"Login"}))}))})).catch((function(){})):(this.$notify({message:"您还未登陆!正在跳转登陆页",duration:800}),setTimeout((function(){t.$router.push({name:"Login"})}),1e3))},deleteAccount:function(){var t=this,e=sessionStorage.getItem("token");e?this.$dialog.confirm({title:"",message:"确认注销账号吗?"}).then((function(){Object(i["e"])({appkey:r["a"],tokenString:e}).then((function(e){"G001"==e.code&&(sessionStorage.removeItem("token"),t.$toast.success({message:"注销成功!请重新登陆",duration:1e3}))}))})).catch((function(){})):this.$notify("您还未登陆!")}}},l=c,d=(s("efa7"),s("2877")),u=Object(d["a"])(l,o,n,!1,null,"09df270e",null);e["default"]=u.exports},b210:function(t,e,s){},efa7:function(t,e,s){"use strict";s("b210")}}]);
//# sourceMappingURL=chunk-3f4d1a6a.b5f3fb6f.js.map